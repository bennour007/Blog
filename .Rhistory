tab_header(
title = md("**2019 elections bla**"),
subtitle = "changes bla bla"
)
de00 %>%
left_join(de05, by = 'party') %>%
select(party, Total.x, Total.y) %>%
mutate(Total.y = replace_na(Total.y, 0),
diff = Total.y - Total.x) %>%
arrange(-diff) %>%
rename('seats at 0 %' = 'Total.x', 'seats at 5%' = 'Total.y') %>%
gt() %>%
data_color(
columns = vars(diff),
colors = scales::col_factor(
palette = "RdYlBu",
domain = NULL
)
) %>%
##########################
### This section changed
##########################
cols_label(
) %>%
fmt_percent(
columns = vars(diff),
decimal = 2,
pattern = "{x} %"
) %>%
tab_source_note("TABLE: @ennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 elections bla**"),
subtitle = "changes bla bla"
)
de00 %>%
left_join(de05, by = 'party') %>%
select(party, Total.x, Total.y) %>%
mutate(Total.y = replace_na(Total.y, 0),
diff = Total.y - Total.x) %>%
arrange(-diff) %>%
rename('seats at 0 %' = 'Total.x', 'seats at 5%' = 'Total.y') %>%
gt() %>%
data_color(
columns = vars(diff),
colors = scales::col_factor(
palette = "RdYlBu",
domain = NULL
)
) %>%
##########################
### This section changed
##########################
cols_label(
) %>%
tab_source_note("TABLE: @ennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 elections bla**"),
subtitle = "changes bla bla"
)
de05 %>%
arrange(ratio) %>%
gt() %>%
tab_spanner(
label = 'Seats',
columns = c(Quota, Remains, Total)
) %>%
data_color(
columns = vars(ratio),
colors = scales::col_numeric(
palette = c("#ffffff", "#f2fbd2", "#c9ecb4", "#93d3ab", "#35b0ab"),
domain = NULL
)
) %>%
data_color(
columns = vars(Total),
colors = scales::col_numeric(
palette = c("#ffffff", "#f2fbd2", "#c9ecb4", "#93d3ab", "#35b0ab"),
domain = NULL
)
)  %>%
cols_label(
) %>%
tab_source_note("TABLE: @Bennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 elections with largest remains threshold at 5%**"),
subtitle = "Decomposition of the total seats won by Quota(direct votes) and Remains\nthe ratio of the Remains seats to the total won"
)
de00 %>%
arrange(ratio) %>%
gt()%>%
tab_spanner(
label = 'Seats',
columns = c(Quota, Remains, Total)
) %>%
data_color(
columns = vars(ratio),
colors = scales::col_numeric(
palette = c("#ffffff", "#f2fbd2", "#c9ecb4", "#93d3ab", "#35b0ab"),
domain = NULL
)
) %>%
data_color(
columns = vars(Total),
colors = scales::col_numeric(
palette = c("#ffffff", "#f2fbd2", "#c9ecb4", "#93d3ab", "#35b0ab"),
domain = NULL
)
)  %>%
cols_label(
) %>%
tab_source_note("TABLE: @Bennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 elections with largest remains threshold at 0%**"),
subtitle = "Decomposition of the total seats won by Quota(direct votes) and Remains the ratio of the Remains seats to the total won"
)
de00 %>%
arrange(ratio) %>%
gt()%>%
tab_spanner(
label = 'Seats',
columns = c(Quota, Remains, Total)
) %>%
data_color(
columns = vars(Total),
colors = scales::col_numeric(
palette = c("#ffffff", "#f2fbd2", "#c9ecb4", "#93d3ab", "#35b0ab"),
domain = NULL
)
) %>%
tab_source_note("TABLE: @Bennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 elections with largest remains threshold at 0%**"),
subtitle = "Decomposition of the total seats won by Quota(direct votes) and Remains the ratio of the Remains seats to the total won"
)
de00 %>%
arrange(ratio) %>%
gt()%>%
tab_spanner(
label = 'Seats',
columns = c(Quota, Remains, Total)
) %>%
tab_style(
style = list(
cell_borders(
sides = "left",
color = "black",
weight = px(3)
)
),
locations = list(
cells_body(
columns = vars(ratio)
)
)
) %>%
# We use tab_style() to change style of cells
# cell_borders() provides the formatting
# locations tells it where
# Add black borders to the bottom of all the column labels
tab_style(
style = list(
cell_borders(
sides = "bottom",
color = "black",
weight = px(3)
)
),
locations = list(
cells_column_labels(
columns = gt::everything()
)
)
)
data_color(
columns = vars(Total),
colors = scales::col_numeric(
palette = c("#ffffff", "#f2fbd2", "#c9ecb4", "#93d3ab", "#35b0ab"),
domain = NULL
)
) %>%
tab_source_note("TABLE: @Bennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 elections with largest remains threshold at 0%**"),
subtitle = "Decomposition of the total seats won by Quota(direct votes) and Remains the ratio of the Remains seats to the total won"
)
de00 %>%
arrange(ratio) %>%
gt()%>%
tab_spanner(
label = 'Seats',
columns = c(Quota, Remains, Total)
) %>%
tab_style(
style = list(
cell_borders(
sides = "left",
color = "black",
weight = px(3)
)
),
locations = list(
cells_body(
columns = vars(ratio)
)
)
) %>%
# We use tab_style() to change style of cells
# cell_borders() provides the formatting
# locations tells it where
# Add black borders to the bottom of all the column labels
tab_style(
style = list(
cell_borders(
sides = "bottom",
color = "black",
weight = px(3)
)
),
locations = list(
cells_column_labels(
columns = gt::everything()
)
)
) %>%
data_color(
columns = vars(Total),
colors = scales::col_numeric(
palette = c("#ffffff", "#f2fbd2", "#c9ecb4", "#93d3ab", "#35b0ab"),
domain = NULL
)
) %>%
tab_source_note("TABLE: @Bennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 elections with largest remains threshold at 0%**"),
subtitle = "Decomposition of the total seats won by Quota(direct votes) and Remains the ratio of the Remains seats to the total won"
)
de00 %>%
arrange(ratio) %>%
gt()%>%
tab_spanner(
label = 'Seats',
columns = c(Quota, Remains, Total)
) %>%
tab_style(
style = list(
cell_borders(
sides = "left",
color = "black",
weight = px(3)
)
),
locations = list(
cells_body(
columns = vars(ratio)
)
)
) %>%
# We use tab_style() to change style of cells
# cell_borders() provides the formatting
# locations tells it where
# Add black borders to the bottom of all the column labels
tab_style(
style = list(
cell_borders(
sides = "bottom",
color = "black",
weight = px(3)
)
),
locations = list(
cells_column_labels(
columns = gt::everything()
)
)
) %>%
fmt_percent(
columns = ratio,
decimals = 2,
scale_values = F
) %>%
data_color(
columns = vars(Total),
colors = scales::col_numeric(
palette = c("#ffffff", "#f2fbd2", "#c9ecb4", "#93d3ab", "#35b0ab"),
domain = NULL
)
) %>%
tab_source_note("TABLE: @Bennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 elections with largest remains threshold at 0%**"),
subtitle = "Decomposition of the total seats won by Quota(direct votes) and Remains the ratio of the Remains seats to the total won"
)
de00 %>%
arrange(ratio) %>%
gt()%>%
tab_spanner(
label = 'Seats',
columns = c(Quota, Remains, Total)
) %>%
tab_style(
style = list(
cell_borders(
sides = "left",
color = "black",
weight = px(3)
)
),
locations = list(
cells_body(
columns = vars(ratio)
)
)
) %>%
# We use tab_style() to change style of cells
# cell_borders() provides the formatting
# locations tells it where
# Add black borders to the bottom of all the column labels
tab_style(
style = list(
cell_borders(
sides = "bottom",
color = "black",
weight = px(3)
)
),
locations = list(
cells_column_labels(
columns = gt::everything()
)
)
) %>%
fmt_percent(
columns = ratio,
decimals = 0,
scale_values = F
) %>%
data_color(
columns = vars(Total),
colors = scales::col_numeric(
palette = c("#ffffff", "#f2fbd2", "#c9ecb4", "#93d3ab", "#35b0ab"),
domain = NULL
)
) %>%
tab_source_note("TABLE: @Bennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 elections with largest remains threshold at 0%**"),
subtitle = "Decomposition of the total seats won by Quota(direct votes) and Remains the ratio of the Remains seats to the total won"
)
de05 %>%
arrange(ratio) %>%
gt() %>%
tab_spanner(
label = 'Seats',
columns = c(Quota, Remains, Total)
) %>%
tab_style(
style = list(
cell_borders(
sides = "left",
color = "black",
weight = px(3)
)
),
locations = list(
cells_body(
columns = vars(ratio)
)
)
) %>%
tab_style(
style = list(
cell_borders(
sides = "bottom",
color = "black",
weight = px(3)
)
),
locations = list(
cells_column_labels(
columns = gt::everything()
)
)
) %>%
fmt_percent(
columns = ratio,
decimals = 0,
scale_values = F
) %>%
data_color(
columns = vars(Total),
colors = scales::col_numeric(
palette = c("#ffffff", "#f2fbd2", "#c9ecb4", "#93d3ab", "#35b0ab"),
domain = NULL
)
)  %>%
cols_label(
) %>%
tab_source_note("TABLE: @Bennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 elections with largest remains threshold at 5%**"),
subtitle = "Decomposition of the total seats won by Quota(direct votes) and Remains the ratio of the Remains seats to the total won"
)
de00 %>%
left_join(de05, by = 'party') %>%
select(party, Total.x, Total.y) %>%
mutate(Total.y = replace_na(Total.y, 0),
diff = Total.y - Total.x) %>%
arrange(-diff) %>%
rename('seats at 0 %' = 'Total.x', 'seats at 5%' = 'Total.y') %>%
gt() %>%
data_color(
columns = vars(diff),
colors = scales::col_factor(
palette = "RdYlBu",
domain = NULL
)
) %>%
tab_style(
style = list(
cell_borders(
sides = "left",
color = "black",
weight = px(3)
)
),
locations = list(
cells_body(
columns = vars(diff)
)
)
) %>%
tab_style(
style = list(
cell_borders(
sides = "bottom",
color = "black",
weight = px(3)
)
),
locations = list(
cells_column_labels(
columns = gt::everything()
)
)
) %>%
fmt_percent(
columns = ratio,
decimals = 0,
scale_values = F
) %>%
tab_source_note("@Bennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 election ar 0% and 5% threshold**"),
subtitle = "The difference, the winners, the loosers"
)
de00 %>%
left_join(de05, by = 'party') %>%
select(party, Total.x, Total.y) %>%
mutate(Total.y = replace_na(Total.y, 0),
diff = Total.y - Total.x) %>%
arrange(-diff) %>%
rename('seats at 0 %' = 'Total.x', 'seats at 5%' = 'Total.y') %>%
gt() %>%
data_color(
columns = vars(diff),
colors = scales::col_factor(
palette = "RdYlBu",
domain = NULL
)
) %>%
tab_style(
style = list(
cell_borders(
sides = "left",
color = "black",
weight = px(3)
)
),
locations = list(
cells_body(
columns = vars(diff)
)
)
) %>%
tab_style(
style = list(
cell_borders(
sides = "bottom",
color = "black",
weight = px(3)
)
),
locations = list(
cells_column_labels(
columns = gt::everything()
)
)
) %>%
tab_source_note("@Bennour007sin | DATA: Cahiers de la Liberté") %>%
tab_header(
title = md("**2019 election ar 0% and 5% threshold**"),
subtitle = "The difference, the winners, the loosers"
)
blogdown::new_content("/blog/upgrade/index.md")
install.packages(c('sf', 'rnaturalearth','patchwork'))
install.packages(c('sf', 'rnaturalearth','patchwork'))
install.packages('classInt')
install.packages(c('sf', 'rnaturalearth','patchwork'))
install.packages(c('sf', 'rnaturalearth','patchwork'))
install.packages('ggspatial')
install.packages("rnaturalearthdata")
install.packages('rgeos')
